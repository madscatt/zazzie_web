# this is a module file, any module specific info belongs here
{
    "moduleid" : "chi_square_filter",
    "label"    : "Chi-Square Filter",
    "fields"   : [
                   {
                   "role"       : "input",
                   "id"       : "module_header",
                   "label"    : "Chi-Square Filter",
                   "type"     : "label",
                   "default"  : "header4",
                   "prehline"  : "true",
                   "posthline"  : "true"
                   },
                  {
                   "role"     : "input",
                   "id"       : "runname",
                   "label"    : "run name",
                   "type"     : "text",
                   "default"  : "run_0",
                   "required" : "true",
		   "help"     : "results will be placed in a folder called chi_square_filter/ in the directory name you enter here" 
                   },
                  {
                   "role"     : "input",
                   "id"       : "sasintfile",
                   "label"   : "interpolated data file",
                   "type"     : "lrfile",
                   "required" : "true",
		   "help"     : "this should be interpolated experimental data sampled at the same q-values as generated by the SAS calculator",
                   "norow"    : "false"
                   },
                  {
                   "role"     : "input",
                   "id"       : "io",
                   "label"    : "I(0)",
                   "type"     : "text",
                   "default"  : "0.019",
                   "required" : "true",
		   "help"  : "experimentally derived I(0), usually predicted, by Guinier analysis"
                   },
                  {
                   "role"    : "input",
                   "id"      : "sastype_list_box",
                   "name"    : "sastype_list_box",
                   "label"   : "SAS type",
                   "type"    : "listbox",
		   "values"  : "SasCalc~c0~xtal2sas~c1~cryson~c2~crysol~c3",
                   "default" : "c0",
                   "help" : "choose a scattering data file type"
                   },
                  {
                   "role"     : "input",
                   "id"       : "saspath",
                   "label"    : "SAS data path",
                   "type"     : "rpath",
                   "help"  : "enter directory that contain SAS profiles you wish to compare to experimental data",
                   "required" : "true"
                   },
                  {
                   "role"    : "input",
                   "id"      : "reduced_x2_list_box",
                   "name"    : "reduced_x2_list_box",
                   "label"   : "chi-square type",
                   "type"    : "listbox",
                   "values"  : "reduced chi-square~c1~chi-square~c2~Pearson chi-square~c3",
                   "default" : "c1",
                   "help" : "choose statistical fit method"
                   },
                  {
                   "role"     : "input",
                   "id"       : "number_of_weight_files",
                   "label"    : "number of weight files",
                   "type"     : "integer",
                   "default"  : 1,
                   "required" : "true",
 #                  "repeat" : "advanced_input",
                   "repeater" : "true",
		   "help"  : "enter a non-zero integer to open inputs for weight files"
                   },
                  {
                   "role"     : "input",
                   "id"       : "basis_string",
                   "label"    : "enter expression",
                   "type"     : "text",
		   "default"  : "x2 < 5",
                   "required" : "true",
	   	   "help"     : "enter expression : must use either x2 or rg",
                   "repeat"  : "number_of_weight_files"
                   },
		  {
                   "role"     : "input",
                   "id"       : "weight_file_names",
                   "label"    : "weight file name",
                   "type"     : "text",
		   "default"  : "x2_lt_5.txt",
                   "required" : "true",
	   	   "help"     : "enter filename",
                   "repeat"  : "number_of_weight_files"
                   },
                  {
                   "role"     : "input",
                   "id"       : "lowrg",
                   "label"    : "low Rg cutoff",
                   "type"     : "float",
                   "default"  : 0.0,
                   "min"      : 0.0,
                   "step"     : 0.01,
                   "required" : "true",
                   "help" : "discard all accepted structures with a Rg less than this value",
                   "repeat"  : "number_of_weight_files"
                   },
                   {
                   "role"       : "input",
                   "id"       : "advanced_input_header",
                   "label"    : "Advanced Input",
                   "type"     : "label",
                   "default"  : " ",
                   "prehline"  : "true",
                   "posthline"  : "true"
                   },
                  {
                   "role"     : "input",
                   "id"       : "advanced_input",
                   "label"    : "Check Box for Advanced Input",
                   "type"     : "checkbox",
                   "checked"  : "false",
                   "help"  : "click this box for extra options for the run",
                   "repeater" : "true"
                   },
                  {
                   "role"     : "input",
                   "id"       : "folder_flag_check_box",
                   "label"    : "Check Box to keep existing run name folder",
                   "type"     : "checkbox",
                   "checked"  : "false",
                   "help"     : "check box to override default behavior that removes existing run name folder",
                   "repeat" : "advanced_input"
                   },
                  {
                   "role"    : "output",
                   "id"      : "progress_output",
                   "label"   : "progress: ",
                   "type"    : "progress",
                   "max"     : 1.0
                   },
                  {
                    "role"    : "output",
                    "id"      : "progress_html",
                    "name"    : "progress_html",
                    "label"   : "percent done: ",
                    "type"    : "html"
                   },
                   {
                   "role"    : "output",
                   "id"      : "chi_square_plot",
                   "label"   : "Chi-Square Distribution",
                   "type"    : "plot2d",
                   "pan"     : "true",
                   "zoom"    : "true",
                   "hover"   : "true",
                   "help"           : "drag to pan, double click to zoom, to reset zoom and pan: click on title, axis labels or live coordinates box"
                   },
                   {
                   "role"    : "output",
                   "id"      : "iq_plot",
                   "label"   : "Scattering Plots",
                   "type"    : "plot2d",
                   "pan"     : "true",
                   "zoom"    : "true",
                   "hover"   : "true",
                   "help"           : "drag to pan, double click to zoom, to reset zoom and pan: click on title, axis labels or live coordinates box"
                   }
                  ],
    "executable" : "chi_square_filter"
}
